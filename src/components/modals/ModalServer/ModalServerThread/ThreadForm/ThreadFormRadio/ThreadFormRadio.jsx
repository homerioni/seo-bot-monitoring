import React, {useEffect, useState} from 'react';
import s from './ThreadFormRadio.module.scss';

const ThreadFormRadio = ({title, tooltip, values, radioNames, register, watch}) => {
    const [isCopy, setIsCopy] = useState(null);

    useEffect(() => {
        setIsCopy(watch().isSendingCopies);
    }, [watch]);

    return (
        <div className={s.main}>
            <div className={s.titleBox}>
                <p>{title}</p>
                {tooltip ?
                    <div className={s.tooltip}>
                        <p>{tooltip}</p>
                    </div> : ''}
            </div>
            <div className={s.labelBox}>
                <label className={s.label}>
                    <input {...register} value={values[0]} type="radio" onInput={() => setIsCopy('true')}/>
                    <span className={`${s.radioIcon} ${isCopy === 'true' ? s.active : ''}`}/>
                    <span>{radioNames[0]}</span>
                    <svg className={s.statusIcon} width="23" height="24" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.5597 5.18655L12.9439 2.6853C12.1197 2.32113 10.8739 2.32113 10.0497 2.6853L4.43385 5.18655C3.01552 5.81905 2.80469 6.68155 2.80469 7.14155C2.80469 7.60155 3.01552 8.46405 4.43385 9.09655L10.0497 11.5978C10.4618 11.7799 10.9793 11.8757 11.4968 11.8757C12.0143 11.8757 12.5318 11.7799 12.9439 11.5978L18.5597 9.09655C19.978 8.46405 20.1889 7.60155 20.1889 7.14155C20.1889 6.68155 19.9876 5.81905 18.5597 5.18655Z" fill="#A1B1C5"/>
                        <path d="M10.4191 16.6554L10.4198 16.6557C10.7613 16.802 11.1321 16.8801 11.5032 16.8801C11.8743 16.8801 12.2453 16.8021 12.5776 16.6555L12.5777 16.6554L19.0369 13.7804L19.037 13.7804C19.5409 13.5553 19.9863 13.1407 20.3056 12.6478C20.6248 12.155 20.8203 11.5803 20.8203 11.0322C20.8203 10.6117 20.4817 10.2731 20.0611 10.2731C19.6406 10.2731 19.302 10.6117 19.302 11.0322C19.302 11.2833 19.1987 11.571 19.0346 11.8231C18.8704 12.0752 18.6496 12.2852 18.4214 12.3856L18.4212 12.3857L11.9624 15.2606C11.9623 15.2606 11.9622 15.2606 11.9621 15.2607C11.6684 15.3891 11.3285 15.3891 11.0347 15.2607C11.0347 15.2606 11.0346 15.2606 11.0345 15.2606L4.57564 12.3857L4.57545 12.3856C4.34749 12.2853 4.12664 12.0731 3.96237 11.8196C3.79811 11.5662 3.6949 11.2785 3.6949 11.0322C3.6949 10.6117 3.35626 10.2731 2.93573 10.2731C2.5152 10.2731 2.17656 10.6117 2.17656 11.0322C2.17656 11.585 2.37202 12.1598 2.69135 12.6515C3.01067 13.1432 3.45606 13.5554 3.95992 13.7804L3.95998 13.7804L10.4191 16.6554Z" fill="#A1B1C5" stroke="#A1B1C5" strokeWidth="0.1"/>
                        <path d="M10.4191 21.4086L10.4198 21.4089C10.7613 21.5552 11.1321 21.6333 11.5032 21.6333C11.8743 21.6333 12.2453 21.5552 12.5776 21.4086L12.5777 21.4086L19.0369 18.5336L19.0371 18.5335C20.1186 18.0463 20.8203 16.9745 20.8203 15.7854C20.8203 15.3649 20.4817 15.0262 20.0611 15.0262C19.6406 15.0262 19.302 15.3649 19.302 15.7854C19.302 16.3694 18.9495 16.9072 18.4215 17.1388L18.4212 17.1389L11.9624 20.0138C11.9623 20.0138 11.9622 20.0138 11.9621 20.0138C11.6684 20.1423 11.3285 20.1423 11.0347 20.0138C11.0347 20.0138 11.0346 20.0138 11.0345 20.0138L4.57577 17.1389C4.57575 17.1389 4.57573 17.1389 4.57571 17.1389C4.03775 16.8977 3.6949 16.3693 3.6949 15.7854C3.6949 15.3649 3.35626 15.0262 2.93573 15.0262C2.5152 15.0262 2.17656 15.3649 2.17656 15.7854C2.17656 16.9742 2.87811 18.056 3.96012 18.5336L10.4191 21.4086Z" fill="#A1B1C5" stroke="#A1B1C5" strokeWidth="0.1"/>
                    </svg>
                </label>
                <label className={s.label}>
                    <input {...register} value={values[1]} type="radio" onInput={() => setIsCopy('false')}/>
                    <span className={`${s.radioIcon} ${isCopy === 'false' ? s.active : ''}`}/>
                    <span>{radioNames[1]}</span>
                    <svg className={s.statusIcon} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.22314 7.70011H4.04707C2.88251 7.70011 1.92969 6.83388 1.92969 5.77517V3.85023C1.92969 2.79151 2.88251 1.92529 4.04707 1.92529H7.22314C8.3877 1.92529 9.34052 2.79151 9.34052 3.85023V5.77517C9.34052 6.83388 8.3877 7.70011 7.22314 7.70011Z" fill="#A1B1C5"/>
                        <path d="M21.8356 6.73781H18.0243C17.3256 6.73781 16.7539 6.21808 16.7539 5.58285V4.0429C16.7539 3.40767 17.3256 2.88794 18.0243 2.88794H21.8356C22.5344 2.88794 23.1061 3.40767 23.1061 4.0429V5.58285C23.1061 6.21808 22.5344 6.73781 21.8356 6.73781Z" fill="#A1B1C5"/>
                        <path d="M21.8356 13.9561H18.0243C17.3256 13.9561 16.7539 13.4363 16.7539 12.8011V11.2612C16.7539 10.6259 17.3256 10.1062 18.0243 10.1062H21.8356C22.5344 10.1062 23.1061 10.6259 23.1061 11.2612V12.8011C23.1061 13.4363 22.5344 13.9561 21.8356 13.9561Z" fill="#A1B1C5"/>
                        <path opacity="0.96" d="M16.7478 12.7528C17.1819 12.7528 17.5418 12.4256 17.5418 12.0309C17.5418 11.6363 17.1819 11.3091 16.7478 11.3091H13.8364V5.53428H16.7478C17.1819 5.53428 17.5418 5.20704 17.5418 4.81243C17.5418 4.41782 17.1819 4.09058 16.7478 4.09058H9.33699C8.90292 4.09058 8.54297 4.41782 8.54297 4.81243C8.54297 5.20704 8.90292 5.53428 9.33699 5.53428H12.2484V17.3245C12.2484 18.7875 13.5506 19.9713 15.1598 19.9713H16.7478C17.1819 19.9713 17.5418 19.6441 17.5418 19.2495C17.5418 18.8548 17.1819 18.5276 16.7478 18.5276H15.1598C14.4293 18.5276 13.8364 17.9886 13.8364 17.3245V12.7528H16.7478Z" fill="#A1B1C5"/>
                        <path d="M21.8356 21.1746H18.0243C17.3256 21.1746 16.7539 20.6548 16.7539 20.0196V18.4797C16.7539 17.8444 17.3256 17.3247 18.0243 17.3247H21.8356C22.5344 17.3247 23.1061 17.8444 23.1061 18.4797V20.0196C23.1061 20.6548 22.5344 21.1746 21.8356 21.1746Z" fill="#A1B1C5"/>
                    </svg>
                </label>
            </div>
        </div>
    );
};

export default ThreadFormRadio;